## 2022年B站决赛视频
[决赛路演回顾：SCUT01｜七牛云校园Hackathon_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1ee4y1p7Pf/?spm_id_from=pageDriver&vd_source=6e82c2bc475d3cb127e47892e43f7b86)
## 本期题目
> 相关信息

![image.png](https://cdn.nlark.com/yuque/0/2023/png/20359134/1698161912061-591791bb-96fc-4f37-bd1c-7a3c3f087b7f.png#averageHue=%23fbfbfa&clientId=ud6cb7d53-d228-4&from=paste&height=438&id=u397f4cfe&originHeight=547&originWidth=1377&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=58881&status=done&style=none&taskId=ue03f158b-9c9f-4375-8c02-41f1c567387&title=&width=1101.6)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/20359134/1698161933886-b7a72656-0b37-4d05-bb6c-76218615cacf.png#averageHue=%23fcfcfb&clientId=ud6cb7d53-d228-4&from=paste&height=420&id=u92a80dae&originHeight=525&originWidth=1571&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=75704&status=done&style=none&taskId=ubc27df15-d7a9-4007-9906-7e3323b4f92&title=&width=1256.8)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/20359134/1698161947849-3962ce81-043d-4531-aaf1-3ecce77e0420.png#averageHue=%23f4f3f2&clientId=ud6cb7d53-d228-4&from=paste&height=347&id=u85ebef86&originHeight=434&originWidth=1539&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=73849&status=done&style=none&taskId=u2025f60b-f047-45fa-be9d-6095b5b3ee4&title=&width=1231.2)

## 做什么

1. 同类产品有哪些？
2. 这些产品各自的优缺点有哪些？
3. 我们的技术栈有哪些？
4. 我们的项目要有哪些基础功能？哪些亮点功能？
5. 列出以上功能后，我们当前的技术覆盖多少？哪些领域不熟悉，又该怎么去学会技术并且解决问题？
   1. 如果实在没时间来不及学习，或者学不明白学不会，又或者学习方法效率赶不上项目需求，可以考虑：**阉割功能** || **请外援帮助**

### 竞品分析



### 技术选型



### 产品需求



### 任务排期



## 怎么做

1. 需求文档先敲定大致版本
2. 任务排期，阶段性检验成果
3. 未来时间的计划（是否会有事情冲突掉）
4. 了解比赛相关的内容以及 七牛云 

## 前端思考

> 实现一个短视频页面，不涉及直播或者实时流媒体传输，那就不一定需要深入研究流媒体技术。
>
> 通过前端技术和一些基本的视频处理知识进行实现即可

1. **视频播放：** 你可以使用 HTML5 提供的 `<video>` 标签来渲染和播放视频。这是一个相对简单的方法，无需太多专业的流媒体知识。
2. **视频格式：** 确保你的视频文件采用常见的编解码格式，如 H.264，并且使用常见的容器格式，如 MP4。这样可以确保在不同的浏览器和设备上都能正常播放。
3. **页面布局和交互：** 设计一个用户友好的界面，使用户可以轻松地上下滑动查看视频。你可以使用 HTML、CSS 和 JavaScript 来实现这一点。
4. **响应式设计：** 确保你的页面在不同设备上都能正常显示和交互，包括桌面电脑、平板电脑和手机。
5. **性能优化：** 如果你的页面会加载大量视频，你可能需要考虑一些性能优化措施，如延迟加载、视频预加载等。
6. **安全性考虑：**安全是处理用户上传的视频时的重要问题。需要了解如何防止潜在的安全威胁，例如恶意上传、跨站脚本攻击等。
7. **思考：**
   1. 上传时可能涉及到断点续传，切片上传，这个步骤是一定要的吗？还是性能优化部分？
   2. 上传的视频是直接视频的格式上传，还是需要进行格式转换的，如 M3U8 相关的格式是怎么回事？这一方面不太清楚。

## 前端技术备忘

1. 想到一个亮点，使用 PWA 技术实现让 **网页具备应用程序** 的功能，看看好不好操作 (**小林的实现了此功能，但代码随想录的没有实现**)
   1. 具体操作可以问 GPT ，不难，下个包配置一些内容即可
   2. **Service Workers：** Service Workers 是 PWA 的核心组件。它们是后台线程，能够拦截和处理网络请求，从而使网页能够离线工作。这使得用户可以从主屏幕启动 PWA 并访问内容，即使没有互联网连接。
   3. **Web App Manifest：** Web App Manifest 是一个JSON文件，包含了有关 PWA 的元数据，如应用的名称、图标、主屏幕启动配置等。它定义了用户将如何看到和交互的应用程序的方面。
   4. **App Shell 架构：** PWA 通常使用 App Shell 架构来提供快速的加载和交互。这种架构将应用的核心 UI 元素缓存到用户设备上，从而提供快速的初始加载和导航体验。
   5. **离线缓存：** PWA 允许你使用 Service Workers 缓存应用程序的资源，以便在离线时访问。这包括 HTML、CSS、JavaScript、图像和其他文件。
   6. **添加到主屏幕：** 用户可以通过浏览器选项将 PWA 添加到主屏幕，创建一个应用图标，就像本机应用程序一样。这通常在 Web App Manifest 中配置。
   7. **推送通知：** PWA 可以请求用户许可以发送推送通知，这使得应用可以向用户推送消息，即使用户当前没有打开应用。
2. 技术选型上的疑问
   1.  短视频网站可能涉及复杂的功能，如视频上传、流媒体处理、用户身份验证等，这些功能可能需要大量的时间来实现
   2. GPT 的建议：
      1. 在这种情况下，有一些建议：
         1. **优先考虑你的现有技术栈：** 如果你的时间紧迫，最好优先使用你已经熟悉的Vue3来开发项目。这样可以最大程度地减少学习曲线和错误，以确保项目按时完成。
         2. **学习React逐步迁移：** 如果你确实有计划学习React，可以考虑在项目之后逐步迁移。你可以将项目中的某些组件逐渐用React重写，以积累经验。
         3. **寻求帮助：** 如果你必须使用React来开发项目，考虑寻求帮助，也许有经验的React开发者可以协助你，或者你可以使用在线教程和资源来尽快入门。
         4. **简化项目范围：** 如果时间非常紧迫，可能需要简化项目的范围，以确保能在限定时间内交付一个可用的版本
3. 能给项目需求提高一些帮助的更详细回答：
   1. 当你构建一个短视频网站时，涉及到一些复杂的功能，如视频上传、流媒体处理和用户身份验证。这些功能对于一个互动型视频社交平台来说是至关重要的，因为它们能够增强用户体验并确保平台的功能和安全性。下面是这些功能的详细说明和如何实现它们的一般方法：
      1. **视频上传：**
         * **为什么需要：** 视频上传是让用户在平台上共享他们自己的内容的关键功能。用户可以通过上传视频来展示自己的创造力、分享有趣的瞬间以及与社区互动。
         * 如何实现：
           * 创建一个上传界面，允许用户选择并上传视频文件。
           * 使用后端服务（通常是云存储服务如Amazon S3或者Google Cloud Storage）来存储用户上传的视频文件。
           * 进行视频压缩和转码，以确保适应不同设备和带宽条件。
           * 建立适当的数据结构来存储有关上传视频的元数据，如标题、描述、标签等。
           * 提供进度条和通知，以显示上传进度。
           * 考虑视频审核以确保内容的合规性。
      2. **流媒体处理：**
         * **为什么需要：** 流媒体处理是确保用户上传的视频可以在平台上流畅播放的关键步骤。这包括转码、存储、分发和流式传输视频。
         * 如何实现：
           * 使用流媒体服务器（如FFmpeg、Wowza、或者使用云服务如AWS Elemental Media Services）来处理视频。这包括转码成不同的分辨率和格式，以适应不同设备和带宽条件。
           * 存储处理后的视频，通常使用CDN来加速视频的传输。
           * 实现流式传输，以确保用户可以根据需要观看视频，而不需要等待整个视频下载完毕。
      3. **用户身份验证：**
         * **为什么需要：** 用户身份验证是确保平台的安全性和用户隐私的关键。它允许管理用户帐户、控制访问和维护用户数据的机密性。
         * 如何实现：
           * 创建用户帐户系统，允许用户注册、登录和管理其个人资料。
           * 使用身份验证库或框架（如Firebase Authentication、Auth0等）来处理用户身份验证。
           * 实现访问控制列表（ACL）和权限模型，以确保用户只能访问其授权的资源。
           * 使用HTTPS来加密用户与服务器之间的通信，确保数据的机密性。
           * 考虑使用多因素身份验证以提高安全性。
      4. 需要注意的是，这些功能的具体实现取决于你选择的技术栈和平台需求。通常，这些功能需要与前端框架（如Vue3或React）和后端技术（如Node.js、Django、Ruby on Rails等）协同工作。同时，考虑到用户生成内容的特性，内容审核也是一个重要的问题，以确保上传的视频内容符合平台的政策和法规。
      5. 最终，开发一个完整的短视频网站需要耗费时间和资源，需要仔细规划和测试，以确保用户能够安全、流畅地使用平台。

4. 关于流式传输，为什么说视频文件需要被编码成不同的格式适应不同设备带宽，具体的用处是做什么的？
   1. 流式传输中将视频文件编码成不同的格式和分辨率，以适应不同设备和带宽条件的主要目的是提供更好的用户体验。这涉及两主要方面：
      1. **适应不同设备：** 不同设备（例如，智能手机、平板电脑、台式电脑、智能电视）具有不同的屏幕分辨率和性能。编码视频以适应这些不同的设备可以确保在各种设备上都能够流畅播放视频，而不会出现拉伸、挤压或不清晰的情况。通过提供多个分辨率的流，用户可以在他们选择的设备上以最佳质量观看视频。
      2. **适应不同带宽条件：** 用户的网络带宽也各不相同，有些用户可能拥有高速互联网连接，而其他人可能只有有限的带宽。编码视频以适应不同带宽条件是为了确保视频可以在不同的网络条件下进行顺畅传输，而不会出现缓冲或加载延迟。这是通过提供多个不同比特率的视频流实现的，用户的设备会选择最适合其当前网络条件的流来播放。
      3. 总的来说，适应不同设备和带宽条件的编码视频流的目的是提供更广泛的可访问性和更好的用户体验。用户可以选择适合他们设备和网络条件的视频流，而不必担心视频的清晰度或流畅度问题。这种动态适应性是通过流媒体协议（如HLS和DASH）实现的，这些协议允许客户端设备根据需要选择和切换不同质量的视频流。
5. 是这个意思吗：在实际开发中，获取到用户上传的视频文件实际上是流数据，具体返回给设备进行观看的视频实际上是通过流媒体协议进行了自动的视频流编码吗
   1. 是的，您的理解基本正确。在实际开发中，获取用户上传的视频文件通常会将其处理为流数据，然后使用流媒体协议进行视频流编码和传输。这涉及以下步骤：
      1. **视频上传：** 用户上传的视频文件通常以某种格式（如MP4、MOV等）传输到服务器。这个文件可以很大，可能不适合直接流式传输。
      2. **编码和封装：** 服务器会将上传的视频文件进行编码和封装，以便它可以以流的形式传输。编码过程通常会将视频压缩成不同的比特率和分辨率，以适应不同带宽和设备。流媒体协议（如HLS、DASH）通常用于管理和传输这些编码后的视频流。
      3. **流传输：** 编码后的视频以流的形式通过互联网传输给用户设备。用户的设备可以根据其带宽和性能要求选择合适的流。
      4. **实时解码和播放：** 用户设备接收流后，会实时解码并播放视频。设备可以根据当前网络条件和用户设备性能智能地选择适当的流，以提供最佳的观看体验。
      5. 这个过程确保了视频内容能够适应不同设备和网络条件，从而提供更好的用户体验。流媒体协议起到了关键作用，使视频的编码、传输和播放能够以自动和动态的方式适应各种情况。

6. 对于一个前端开发者而言，开发一个短视频网站中，除了使用 前端播放器是使用 video 标签展示，流式传输、视频编码格式转换、流媒体服务器、CDN 等技术应该如何去实现呢

   1. 开发一个短视频网站涉及到的技术比较复杂，其中前端开发者需要关心的部分主要是视频的播放和流式传输。但流媒体服务器、视频编码转换、CDN等技术更多地与后端开发和基础设施建设有关。下面是这些技术的简单概述：

      1. **流式传输**：流式传输允许用户在下载完整个视频文件之前开始播放。这通常通过HLS或DASH实现。前端开发者需要选择一个支持这些协议的播放器（例如Hls.js或Shaka Player）并集成到网站中。
      2. **视频编码格式转换**：原始的视频文件可能不适合在线播放，所以需要转码为更适合流式传输的格式，如H.264、VP9等。这个过程通常在后端完成，使用工具如FFmpeg。
      3. **流媒体服务器**：流媒体服务器负责存储和提供视频流。例如，Nginx配备了RTMP模块，可以作为流媒体服务器使用。另外，还有像Wowza这样的专门的流媒体服务器解决方案。
      4. **CDN (内容分发网络)**：CDN用于加速视频内容的分发，将视频内容缓存到距离用户更近的服务器上。大多数大型的云服务提供商如AWS、阿里云等，都提供了CDN服务。对于前端开发者而言，他们只需要确保视频的URL指向CDN上的地址。

      对于前端开发者来说：

      * **选择一个适当的播放器**：根据你的需求（例如是否需要自定义UI、是否需要支持广告插入、是否需要支持DRM等），选择一个合适的前端播放器。这些播放器通常会有很好的支持和文档，可以帮助你实现流式传输。
      * **集成CDN**：这通常很简单，只需要修改视频的URL，使其指向CDN而不是原始服务器。
      * **性能和UX**：关注视频加载速度、播放质量、用户在不同网络条件下的体验等。
      * **响应式设计**：确保在各种设备上视频都能很好地播放。

      总之，前端开发者在开发短视频网站时，主要关注与用户直接相关的部分，如视频播放、界面设计等。而流媒体服务器、视频转码和CDN等技术则更多地涉及到后端和基础设施的部署和维护。